@startuml
title UC-05: School Supplies Donation (Sequence)
autoactivate on

actor "Donor" as Donor
participant "Vertical: Edu" as Edu
participant "SCP Core: Person" as Core
participant "Vertical: Finance" as Fin

Donor -> Edu: FindEligibleStudents(Criteria)

    Edu -> Core: Search(Income < X, Age 5-16)
    return PotentialIDs[]

    Edu -> Edu: FilterByEnrollmentStatus(PotentialIDs)
    return VerifiedList[]

return ShowCandidates(VerifiedList)

Donor -> Fin: Donate(Amount, VerifiedList)

    Fin -> Fin: CalculateSplit(Amount, Count)
    
    loop For Each Student
        Fin -> Fin: GenerateVoucer(StudentID, Value)
    end
    
    Fin -> Core: NotifyBeneficiary(VoucherDetails)
    return Ack

return DonationSuccess(TaxReceipt)

@enduml
